<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The tag in question. In the html is set at index, follow. -->
    <meta name="robots" content="index, follow" />
    <script>
    window.addEventListener('load', metaRobotsChange);

      function metaRobotsChange() {

        var metaRobots = $("meta[name='robots']");
        var metaRobotsContent = metaRobots.attr("content");

        if (metaRobots.length && metaRobotsContent == "index, follow") {
          $("meta[name='robots']").attr("content", "noindex, nofollow");
        }

      }
    </script>
    <title>Test modifying DOM meta robots</title>
    <link href="//cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.3.0/css/mdb.min.css" rel="stylesheet">
    <!-- Jquery is here to replicate the same scenario of the production page we are testing -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  </head>
  <body>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-46952215-2', 'auto');
  ga('send', 'pageview');

</script>
  <header>
    <h1>The test</h1>
    <h2>JS to modify content of meta tag on load</h2>
  </header>
  <main>
    <p>Page is loading with meta tag content set as "index, follow" in the head portion of the document. But now we are using an inline script, placed also in the head, to dinamically modify the content after page load.</p>

    <h3>Question is: <strong>will it index?</strong></h3>
    <p>if it doesn't, that will be evidence that Google bot uses JS to determine the content of a page, not only the header response, and act accordingly.</p>
  </main>
  <footer>
    <p>What am I looking at? <a href="index.html">Test home and explanation</a></p>
    <p>Go to:<a href="index-follow.html">Link to control page!</a></p>
    <p>Go to:<a href="index-follow-dynamically-changed.html">Test modifying DOM meta robots</a></p>
    <p>Go to:<a href="index-follow-dynamically-inserted.html">Test inserting DOM meta robots</a></p>
    <p>Go to:<a href="index-follow-dynamically-changed-vanilla.html">Test using Javascript only</a></p>
    <p>Go to:<a href="noindex-nofollow-dynamically-changed.html">Reverse test</a></p>
    <p>Go to:<a href="robots-crawling-indexing.html">Test of Robots.txt</a></p>
    <p>Go to:<a href="ajax-dynamic-content.html">AJAX tests</a></p>
  </footer>
  </body>
</html>
